<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.12.0"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>GIRAFFE: Matching Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="clipboard.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="cookie.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">GIRAFFE
   </div>
   <div id="projectbrief">GIRAFFE - Geospatial Image Registration And reFErencing</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.12.0 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() { codefold.init(0); });
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search',false);
  $(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function(){ initResizable(false); });
/* @license-end */
</script>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

</div><!-- top -->
<div id="doc-content">
<div class="header">
  <div class="summary">
<a href="#pub-types">Public Types</a> &#124;
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="class_matching-members.html">List of all members</a>  </div>
  <div class="headertitle"><div class="title">Matching Class Reference</div></div>
</div><!--header-->
<div class="contents">
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-types" name="pub-types"></a>
Public Types</h2></td></tr>
<tr class="memitem:a3d7c0ca020d3d81fbd6f7f3e36e72e4b" id="r_a3d7c0ca020d3d81fbd6f7f3e36e72e4b"><td class="memItemLeft" align="right" valign="top"><a id="a3d7c0ca020d3d81fbd6f7f3e36e72e4b" name="a3d7c0ca020d3d81fbd6f7f3e36e72e4b"></a>enum &#160;</td><td class="memItemRight" valign="bottom"><b>Flags_resec</b> { <b>CALC_EO_IO</b>
, <b>CALC_EO</b>
, <b>FIXED_EO_IO</b>
 }</td></tr>
<tr class="separator:a3d7c0ca020d3d81fbd6f7f3e36e72e4b"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-methods" name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a904a31abfaa75c60e0f5ad5f3d8dec26" id="r_a904a31abfaa75c60e0f5ad5f3d8dec26"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a904a31abfaa75c60e0f5ad5f3d8dec26">Matching</a> ()</td></tr>
<tr class="memdesc:a904a31abfaa75c60e0f5ad5f3d8dec26"><td class="mdescLeft">&#160;</td><td class="mdescRight">Default constructor for the <a class="el" href="class_matching.html">Matching</a> class.  <br /></td></tr>
<tr class="separator:a904a31abfaa75c60e0f5ad5f3d8dec26"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa41444d8996166ec4443f062c819f258" id="r_aa41444d8996166ec4443f062c819f258"><td class="memItemLeft" align="right" valign="top">virtual&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#aa41444d8996166ec4443f062c819f258">~Matching</a> ()</td></tr>
<tr class="memdesc:aa41444d8996166ec4443f062c819f258"><td class="mdescLeft">&#160;</td><td class="mdescRight">Destructor for the <a class="el" href="class_matching.html">Matching</a> class.  <br /></td></tr>
<tr class="separator:aa41444d8996166ec4443f062c819f258"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad46c19a938d4f2859d7bab8b8d8fe581" id="r_ad46c19a938d4f2859d7bab8b8d8fe581"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ad46c19a938d4f2859d7bab8b8d8fe581">init</a> (<a class="el" href="class_data_manager.html">DataManager</a> *_dataManager)</td></tr>
<tr class="memdesc:ad46c19a938d4f2859d7bab8b8d8fe581"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initializes the <a class="el" href="class_matching.html">Matching</a> class by setting up the log file, data manager, and working directory.  <br /></td></tr>
<tr class="separator:ad46c19a938d4f2859d7bab8b8d8fe581"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2b622b19397d9c38190af3c96c41dead" id="r_a2b622b19397d9c38190af3c96c41dead"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a2b622b19397d9c38190af3c96c41dead">image_points_3D_referencing</a> (std::vector&lt; std::vector&lt; cv::Point2d &gt; &gt; &amp;input_image_points, std::vector&lt; cv::Point3d &gt; &amp;synth_pts_3D, cv::Mat &amp;in_image_4_color, cv::Mat &amp;camera_matrix, cv::Mat &amp;dist_coeffs, cv::Mat &amp;rvec_cc_orig_copy, cv::Mat &amp;tvec_cc_orig_copy, double shift_vector_x, double shift_vector_y, double shift_vector_z, bool print_pcl, std::vector&lt; std::string &gt; file_name_image_points)</td></tr>
<tr class="memdesc:a2b622b19397d9c38190af3c96c41dead"><td class="mdescLeft">&#160;</td><td class="mdescRight">Projects 2D image points to 3D space, colors a synthetic point cloud, and optionally exports the point cloud and projections.  <br /></td></tr>
<tr class="separator:a2b622b19397d9c38190af3c96c41dead"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2133ca96caa31c4d99116419f5ede974" id="r_a2133ca96caa31c4d99116419f5ede974"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a2133ca96caa31c4d99116419f5ede974">loadMatches</a> (std::string in_path_matching_output, cv::Mat &amp;in_real_image, cv::Mat &amp;in_synth_image, std::vector&lt; cv::Point2d &gt; &amp;in_synth_pts_2D, std::vector&lt; cv::Point3d &gt; &amp;in_synth_pts_3D, std::vector&lt; cv::Point3d &gt; &amp;out_matched_object_points, std::vector&lt; cv::Point2d &gt; &amp;out_matched_image_points_real, std::vector&lt; cv::Point2d &gt; &amp;out_matched_image_points_synth, float neighbour_distance_allowed_pointcloud=2.5)</td></tr>
<tr class="separator:a2133ca96caa31c4d99116419f5ede974"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7b89ece5a34d4f0cf706bdfcece2c73b" id="r_a7b89ece5a34d4f0cf706bdfcece2c73b"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a7b89ece5a34d4f0cf706bdfcece2c73b">is_distribution_good</a> (const std::vector&lt; cv::Point2f &gt; &amp;imagePoints, const cv::Size &amp;imageSize, int gridRows=4, int gridCols=4, int minPointsPerCell=3)</td></tr>
<tr class="memdesc:a7b89ece5a34d4f0cf706bdfcece2c73b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Prüft, ob die Verteilung der Punkte über das Bild ausreichend ist.  <br /></td></tr>
<tr class="separator:a7b89ece5a34d4f0cf706bdfcece2c73b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a46023981f65071254bdb8cbfff388c43" id="r_a46023981f65071254bdb8cbfff388c43"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a46023981f65071254bdb8cbfff388c43">run_calibration</a> (std::vector&lt; std::vector&lt; cv::Point3f &gt; &gt; objectPoints, std::vector&lt; std::vector&lt; cv::Point2f &gt; &gt; imagePoints, cv::Size &amp;imageSize, cv::Mat &amp;cameraMatrix, cv::Mat &amp;distCoeffs, bool useFisheye)</td></tr>
<tr class="memdesc:a46023981f65071254bdb8cbfff388c43"><td class="mdescLeft">&#160;</td><td class="mdescRight">Calibrates a camera using 3D-2D point correspondences and computes intrinsic and extrinsic parameters.  <br /></td></tr>
<tr class="separator:a46023981f65071254bdb8cbfff388c43"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afd02f70fca84c530a6c59788e6e33774" id="r_afd02f70fca84c530a6c59788e6e33774"><td class="memItemLeft" align="right" valign="top">double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#afd02f70fca84c530a6c59788e6e33774">space_resection</a> (std::vector&lt; cv::Point3d &gt; &amp;in_matched_object_points, std::vector&lt; cv::Point2d &gt; &amp;in_matched_image_points_real, cv::Mat &amp;real_canvas, double in_pix_size, cv::Mat &amp;camera_matrix, cv::Mat &amp;dist_coeffs, cv::Mat &amp;rvec, cv::Mat &amp;tvec, cv::Mat &amp;stdDev_In, cv::Mat &amp;stdDev_Ext, Flags_resec in_flag, bool fisheye)</td></tr>
<tr class="memdesc:afd02f70fca84c530a6c59788e6e33774"><td class="mdescLeft">&#160;</td><td class="mdescRight">Space resection using matched object and image points to estimate intrinsic / extrinsic camera parameters.  <br /></td></tr>
<tr class="separator:afd02f70fca84c530a6c59788e6e33774"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="a904a31abfaa75c60e0f5ad5f3d8dec26" name="a904a31abfaa75c60e0f5ad5f3d8dec26"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a904a31abfaa75c60e0f5ad5f3d8dec26">&#9670;&#160;</a></span>Matching()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">Matching::Matching </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Default constructor for the <a class="el" href="class_matching.html">Matching</a> class. </p>
<p>Initializes the <a class="el" href="class_matching.html">Matching</a> class members to default values. Sets the data manager and log file pointers to nullptr and initializes the working directory path as an empty string. </p>

</div>
</div>
<a id="aa41444d8996166ec4443f062c819f258" name="aa41444d8996166ec4443f062c819f258"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa41444d8996166ec4443f062c819f258">&#9670;&#160;</a></span>~Matching()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">Matching::~Matching </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Destructor for the <a class="el" href="class_matching.html">Matching</a> class. </p>
<p>Ensures any allocated resources are properly cleaned up when a <a class="el" href="class_matching.html">Matching</a> object is destroyed. </p>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="a2b622b19397d9c38190af3c96c41dead" name="a2b622b19397d9c38190af3c96c41dead"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2b622b19397d9c38190af3c96c41dead">&#9670;&#160;</a></span>image_points_3D_referencing()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Matching::image_points_3D_referencing </td>
          <td>(</td>
          <td class="paramtype">std::vector&lt; std::vector&lt; cv::Point2d &gt; &gt; &amp;</td>          <td class="paramname"><span class="paramname"><em>input_image_points</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::vector&lt; cv::Point3d &gt; &amp;</td>          <td class="paramname"><span class="paramname"><em>synth_pts_3D</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">cv::Mat &amp;</td>          <td class="paramname"><span class="paramname"><em>in_image_4_color</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">cv::Mat &amp;</td>          <td class="paramname"><span class="paramname"><em>camera_matrix</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">cv::Mat &amp;</td>          <td class="paramname"><span class="paramname"><em>dist_coeffs</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">cv::Mat &amp;</td>          <td class="paramname"><span class="paramname"><em>rvec_cc_orig_copy</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">cv::Mat &amp;</td>          <td class="paramname"><span class="paramname"><em>tvec_cc_orig_copy</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double</td>          <td class="paramname"><span class="paramname"><em>shift_vector_x</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double</td>          <td class="paramname"><span class="paramname"><em>shift_vector_y</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double</td>          <td class="paramname"><span class="paramname"><em>shift_vector_z</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool</td>          <td class="paramname"><span class="paramname"><em>print_pcl</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::vector&lt; std::string &gt;</td>          <td class="paramname"><span class="paramname"><em>file_name_image_points</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Projects 2D image points to 3D space, colors a synthetic point cloud, and optionally exports the point cloud and projections. </p>
<p>This function undistorts 2D input image points, references them against a synthetic 3D point cloud, colors the points based on an input image, and optionally exports the recolored point cloud and projected 2D points. The function logs the process and results.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">input_image_points</td><td>Vector of 2D input image points. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">synth_pts_3D</td><td>Vector of synthetic 3D points in the point cloud. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">in_image_4_color</td><td>Input image used for coloring the points. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">camera_matrix</td><td>Camera matrix for projection. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">dist_coeffs</td><td>Distortion coefficients for undistorting points. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">rvec_cc_orig_copy</td><td>Rotation vector for coordinate transformation. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">tvec_cc_orig_copy</td><td>Translation vector for coordinate transformation. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">shift_x</td><td>X-axis shift for exported points. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">shift_y</td><td>Y-axis shift for exported points. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">shift_z</td><td>Z-axis shift for exported points. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">export_pcl</td><td>Flag indicating whether to export the point cloud. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">file_name_image_points</td><td>Filename prefix for exporting projected points. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ad46c19a938d4f2859d7bab8b8d8fe581" name="ad46c19a938d4f2859d7bab8b8d8fe581"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad46c19a938d4f2859d7bab8b8d8fe581">&#9670;&#160;</a></span>init()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Matching::init </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="class_data_manager.html">DataManager</a> *</td>          <td class="paramname"><span class="paramname"><em>_dataManager</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Initializes the <a class="el" href="class_matching.html">Matching</a> class by setting up the log file, data manager, and working directory. </p>
<p>This function sets up the internal log file from the provided <a class="el" href="class_data_manager.html">DataManager</a>, logs the initialization process, and establishes a working directory for the matching operation. If the directory does not already exist, it is created within the specified working directory path.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">_dataManager</td><td>Pointer to the <a class="el" href="class_data_manager.html">DataManager</a> object that provides access to logging and file paths. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a7b89ece5a34d4f0cf706bdfcece2c73b" name="a7b89ece5a34d4f0cf706bdfcece2c73b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7b89ece5a34d4f0cf706bdfcece2c73b">&#9670;&#160;</a></span>is_distribution_good()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool Matching::is_distribution_good </td>
          <td>(</td>
          <td class="paramtype">const std::vector&lt; cv::Point2f &gt; &amp;</td>          <td class="paramname"><span class="paramname"><em>imagePoints</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const cv::Size &amp;</td>          <td class="paramname"><span class="paramname"><em>imageSize</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int</td>          <td class="paramname"><span class="paramname"><em>gridRows</em></span><span class="paramdefsep"> = </span><span class="paramdefval">4</span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int</td>          <td class="paramname"><span class="paramname"><em>gridCols</em></span><span class="paramdefsep"> = </span><span class="paramdefval">4</span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int</td>          <td class="paramname"><span class="paramname"><em>minPointsPerCell</em></span><span class="paramdefsep"> = </span><span class="paramdefval">3</span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Prüft, ob die Verteilung der Punkte über das Bild ausreichend ist. </p>
<p>Diese Funktion teilt das Bild in ein Raster und überprüft, ob jede Zelle eine Mindestanzahl an Punkten enthält, um eine gute Verteilung zu gewährleisten.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">imagePoints</td><td>2D-Punkte im Bild. </td></tr>
    <tr><td class="paramname">imageSize</td><td>Größe des Bildes. </td></tr>
    <tr><td class="paramname">gridRows</td><td>Anzahl der Zeilen im Raster. </td></tr>
    <tr><td class="paramname">gridCols</td><td>Anzahl der Spalten im Raster. </td></tr>
    <tr><td class="paramname">minPointsPerCell</td><td>Mindestanzahl an Punkten pro Zelle. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>True, wenn die Verteilung gut ist, false andernfalls. </dd></dl>

</div>
</div>
<a id="a2133ca96caa31c4d99116419f5ede974" name="a2133ca96caa31c4d99116419f5ede974"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2133ca96caa31c4d99116419f5ede974">&#9670;&#160;</a></span>loadMatches()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Matching::loadMatches </td>
          <td>(</td>
          <td class="paramtype">std::string</td>          <td class="paramname"><span class="paramname"><em>in_path_matching_output</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">cv::Mat &amp;</td>          <td class="paramname"><span class="paramname"><em>in_real_image</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">cv::Mat &amp;</td>          <td class="paramname"><span class="paramname"><em>in_synth_image</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::vector&lt; cv::Point2d &gt; &amp;</td>          <td class="paramname"><span class="paramname"><em>in_synth_pts_2D</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::vector&lt; cv::Point3d &gt; &amp;</td>          <td class="paramname"><span class="paramname"><em>in_synth_pts_3D</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::vector&lt; cv::Point3d &gt; &amp;</td>          <td class="paramname"><span class="paramname"><em>out_matched_object_points</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::vector&lt; cv::Point2d &gt; &amp;</td>          <td class="paramname"><span class="paramname"><em>out_matched_image_points_real</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::vector&lt; cv::Point2d &gt; &amp;</td>          <td class="paramname"><span class="paramname"><em>out_matched_image_points_synth</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float</td>          <td class="paramname"><span class="paramname"><em>neighbour_distance_allowed_pointcloud</em></span><span class="paramdefsep"> = </span><span class="paramdefval">2.5</span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>@summary public function read f-inlier matches from SiftGPU (included in Visual SFM console application)</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir"></td><td class="paramname">in_path_FMatrixOutput</td><td>input string path to matching results from Visual SFM. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">in_real_image</td><td>matrix of real image. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">in_synth_image</td><td>matrix of rendered image. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">in_synth_pts_2D</td><td>image points of the rendered image </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">in_synth_pts_3D</td><td>object points that corresponds to the image points of the rendered image </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">out_matched_object_points</td><td>image points from the real image having corresponding keypoints inside the rendered image with valid 3D correspondence </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">out_matched_image_points_real</td><td>image points from the rendered image having corresponding keypoints inside the real image with valid 3D correspondence </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">out_matched_image_points_synth</td><td>object points that have corresponding points within the real and the rendered image. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a46023981f65071254bdb8cbfff388c43" name="a46023981f65071254bdb8cbfff388c43"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a46023981f65071254bdb8cbfff388c43">&#9670;&#160;</a></span>run_calibration()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool Matching::run_calibration </td>
          <td>(</td>
          <td class="paramtype">std::vector&lt; std::vector&lt; cv::Point3f &gt; &gt;</td>          <td class="paramname"><span class="paramname"><em>objectPoints</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::vector&lt; std::vector&lt; cv::Point2f &gt; &gt;</td>          <td class="paramname"><span class="paramname"><em>imagePoints</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">cv::Size &amp;</td>          <td class="paramname"><span class="paramname"><em>imageSize</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">cv::Mat &amp;</td>          <td class="paramname"><span class="paramname"><em>cameraMatrix</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">cv::Mat &amp;</td>          <td class="paramname"><span class="paramname"><em>distCoeffs</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool</td>          <td class="paramname"><span class="paramname"><em>useFisheye</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Calibrates a camera using 3D-2D point correspondences and computes intrinsic and extrinsic parameters. </p>
<p>This function performs camera calibration given a set of 3D object points and their corresponding 2D image points. It can calibrate either a standard pinhole camera model or a fisheye lens model, based on the <code>useFisheye</code> parameter. The function outputs the camera's intrinsic matrix (<code>cameraMatrix</code>), distortion coefficients (<code>distCoeffs</code>), and optionally rotation (<code>rvecs</code>) and translation (<code>tvecs</code>) vectors for each image.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">objectPoints</td><td>3D points in the world coordinate space for each image. </td></tr>
    <tr><td class="paramname">imagePoints</td><td>2D points in the image plane corresponding to <code>objectPoints</code>. </td></tr>
    <tr><td class="paramname">imageSize</td><td>Size of the images used for calibration. </td></tr>
    <tr><td class="paramname">cameraMatrix</td><td>Output matrix containing intrinsic camera parameters. </td></tr>
    <tr><td class="paramname">distCoeffs</td><td>Output vector of distortion coefficients. </td></tr>
    <tr><td class="paramname">useFisheye</td><td>If true, enables fisheye lens calibration; otherwise, standard pinhole model calibration is used. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>True if the calibration succeeded, false otherwise. </dd></dl>

</div>
</div>
<a id="afd02f70fca84c530a6c59788e6e33774" name="afd02f70fca84c530a6c59788e6e33774"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afd02f70fca84c530a6c59788e6e33774">&#9670;&#160;</a></span>space_resection()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">double Matching::space_resection </td>
          <td>(</td>
          <td class="paramtype">std::vector&lt; cv::Point3d &gt; &amp;</td>          <td class="paramname"><span class="paramname"><em>in_matched_object_points</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::vector&lt; cv::Point2d &gt; &amp;</td>          <td class="paramname"><span class="paramname"><em>in_matched_image_points_real</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">cv::Mat &amp;</td>          <td class="paramname"><span class="paramname"><em>real_canvas</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double</td>          <td class="paramname"><span class="paramname"><em>in_pix_size</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">cv::Mat &amp;</td>          <td class="paramname"><span class="paramname"><em>camera_matrix</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">cv::Mat &amp;</td>          <td class="paramname"><span class="paramname"><em>dist_coeffs</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">cv::Mat &amp;</td>          <td class="paramname"><span class="paramname"><em>rvec</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">cv::Mat &amp;</td>          <td class="paramname"><span class="paramname"><em>tvec</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">cv::Mat &amp;</td>          <td class="paramname"><span class="paramname"><em>stdDev_In</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">cv::Mat &amp;</td>          <td class="paramname"><span class="paramname"><em>stdDev_Ext</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">Flags_resec</td>          <td class="paramname"><span class="paramname"><em>in_flag</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool</td>          <td class="paramname"><span class="paramname"><em>fisheye</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Space resection using matched object and image points to estimate intrinsic / extrinsic camera parameters. </p>
<p>This function refines the extrinsic and intrinsic parameters of the camera using spatial resection techniques. It supports both fisheye and pinhole camera models and performs outlier rejection using solvePnPRansac. Optionally, it refines the solution using solvePnPRefineLM or calibrateCamera based on the input flags.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">in_matched_object_points</td><td>Matched 3D object points (in world coordinates). </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">in_matched_image_points_real</td><td>Matched 2D image points (in image coordinates). </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">true_image</td><td>Original image matrix for size reference. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">in_pix_size</td><td>Pixel size (used for scaling). </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">camera_matrix</td><td>Intrinsic camera matrix. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">dist_coeffs</td><td>Camera distortion coefficients. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">rvec</td><td>Rotation vector (output if solved). </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">tvec</td><td>Translation vector (output if solved). </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">stdDev_In</td><td>Standard deviation of intrinsic parameters. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">stdDev_Ext</td><td>Standard deviation of extrinsic parameters. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">in_flag</td><td>Flag indicating which parameters to optimize (extrinsics, intrinsics, or both). </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">fisheye</td><td>Boolean flag indicating whether a fisheye model is used.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The reprojection error after calibration or -1 if an error occurs. </dd></dl>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>include/<a class="el" href="_matching_8h_source.html">Matching.h</a></li>
<li>src/<b>Matching.cpp</b></li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.12.0
</small></address>
</div><!-- doc-content -->
</body>
</html>
